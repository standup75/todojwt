{
	"info": {
		"_postman_id": "0d5e5d0b-5b30-426c-b0d8-17d19a9226da",
		"name": "Todo tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "v1",
			"item": [
				{
					"name": "v1/users No Password",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users No Username",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns a user with a username and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user.username).to.not.be.empty;",
									"    pm.collectionVariables.set('username', jsonData.user.username);",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users Username exists",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users/authenticate Wrong Pwd",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"badpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users/authenticate",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns a token, a user and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user).to.not.be.empty;",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"    pm.collectionVariables.set('token', jsonData.token);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e185dc2-748f-4360-ac72-9eaf33be8a9e",
								"exec": [
									"pm.test(\"Returns a task and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(201);",
									"    pm.collectionVariables.set('taskId', jsonData.task._id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"my task\", \"stage\":\"New\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e185dc2-748f-4360-ac72-9eaf33be8a9e",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"my task\", \"stage\":\"New\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\":\"Completed\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Update name and description",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\": \"new task name\", \"description\": \"new task description\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId check name and description are updated",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task still has new name and description\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.name).to.equal('new task name');",
									"    pm.expect(jsonData.task.description).to.equal('new task description');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Update stage to In-Progress",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7fdfd9ce-ae82-47e2-98cf-85e061587647",
								"exec": [
									"pm.test(\"Returns status 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\":\"In-Progress\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Stage not changed",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task still has stage === New\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.stage).to.equal('New');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Update stage to Completed",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\": \"Completed\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Check stage is updated",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task still has stage === Completed\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.stage).to.equal('Completed');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.not.be.empty;",
									"    pm.expect(jsonData.tasks.length).to.equal(1);",
									"    pm.expect(jsonData.tasks[0].name).to.equal(\"new task name\");",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users Another User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns a user with a username and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user.username).to.not.be.empty;",
									"    pm.collectionVariables.set('username2', jsonData.user.username);",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/users/authenticate",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns a token, a user and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user).to.not.be.empty;",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"    pm.collectionVariables.set('token2', jsonData.token);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username2}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks The other user has no tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token2}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks/:taskId Stage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v1/tasks No more tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "v2",
			"item": [
				{
					"name": "v2/users No Password",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users No Username",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns a user with a username and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user.username).to.not.be.empty;",
									"    pm.collectionVariables.set('username', jsonData.user.username);",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users Username exists",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns status 500\", function () {",
									"    pm.response.to.have.status(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users/authenticate Wrong Pwd",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"badpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users/authenticate",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns a token, a user and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user).to.not.be.empty;",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"    pm.collectionVariables.set('token', jsonData.token);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e185dc2-748f-4360-ac72-9eaf33be8a9e",
								"exec": [
									"pm.test(\"Returns a task and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(201);",
									"    pm.collectionVariables.set('taskId', jsonData.task._id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"my task\", \"stage\":\"New\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e185dc2-748f-4360-ac72-9eaf33be8a9e",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"my task\", \"stage\":\"New\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\":\"Completed\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId No Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Update name and description",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\": \"new task name\", \"description\": \"new task description\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId check name and description are updated",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task still has new name and description\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.name).to.equal('new task name');",
									"    pm.expect(jsonData.task.description).to.equal('new task description');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Update stage to In-Progress",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7fdfd9ce-ae82-47e2-98cf-85e061587647",
								"exec": [
									"pm.test(\"Returns status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\":\"In-Progress\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Check stage is updated",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task stage === In-Progress\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.stage).to.equal('In-Progress');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Update stage to Completed",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ff34519-0aca-4e44-a807-e32d52e92077",
								"exec": [
									"pm.test(\"Returns status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"stage\": \"Completed\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Check stage is updated",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Task still has stage === Completed\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.task.stage).to.equal('Completed');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.not.be.empty;",
									"    pm.expect(jsonData.tasks.length).to.equal(1);",
									"    pm.expect(jsonData.tasks[0].name).to.equal(\"new task name\");",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users Another User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8a07be10-72c2-489e-bbd8-9109ad405792",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "81e2c7be-35dc-44dc-982b-7837cae660c4",
								"exec": [
									"pm.test(\"Returns a user with a username and status 201\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user.username).to.not.be.empty;",
									"    pm.collectionVariables.set('username2', jsonData.user.username);",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{$randomUserName}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/users/authenticate",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f4f9fa0a-191d-4608-b686-d780f4c03e7a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7a083e1e-b3bf-4c35-8b4c-5e74ccca5f03",
								"exec": [
									"pm.test(\"Returns a token, a user and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.user).to.not.be.empty;",
									"    pm.expect(jsonData.token).to.not.be.empty;",
									"    pm.response.to.have.status(200);",
									"    pm.collectionVariables.set('token2', jsonData.token);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username2}}\", \"password\":\"superpassword\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/users/authenticate",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"users",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks The other user has no tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token2}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks/:taskId Stage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee64fdb4-bfb2-4294-b216-54deef4f23f5",
								"exec": [
									"pm.test(\"Returns a task and status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks/{{taskId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks",
								"{{taskId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "v2/tasks No more tasks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c845978-0c9a-41ce-96bb-ffd3cbbc1e7c",
								"exec": [
									"pm.test(\"Returns a task array and status 200\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.tasks).to.be.empty;",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v2/tasks",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v2",
								"tasks"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}